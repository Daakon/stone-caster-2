name = "stone-caster"
main = "./frontend/src/worker.ts"
compatibility_date = "2025-08-18"

[assets]
directory = "frontend/dist"
binding = "ASSETS"
not_found_handling = "single-page-application"

# Routes are configured via Cloudflare dashboard, not in this file
# To add routes, use: wrangler routes add <pattern> --zone-name=<zone>

# Environment variables (Phase B1: Early Access)
[vars]
EARLY_ACCESS_MODE = "on"
API_BASE_URL = "https://stonecaster-api.fly.dev"

# KV namespace for role caching (Phase B1)
# TODO: Create KV namespaces in Cloudflare dashboard and uncomment with actual IDs
# To create: wrangler kv:namespace create "ROLE_CACHE"
# [[kv_namespaces]]
# binding = "ROLE_CACHE"
# id = "<actual-namespace-id-from-dashboard>"
# preview_id = "<actual-preview-namespace-id-from-dashboard>"

